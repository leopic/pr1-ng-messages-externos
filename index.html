<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Proyecto Uno: Ejemplo</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
</head>
<body>
<div ng-app="proyectoUno" ng-controller="ProyectoUnoController">
    <div class="col-md-4 col-md-offset-4">
        <div class="page-header text-center">
            <h1>Ejemplo ng-messages</h1>
        </div>
        <form name="ejemploForm" novalidate ng-submit="enviar()">

            <div class="form-group">
                <label for="nombre">Nombre</label>
                <input type="text" ng-model="nombre" name="nombre" id="nombre"
                       ng-minlength="3" ng-maxlength="6" class="form-control" required/>
                <div class="alert alert-danger" ng-messages="ejemploForm.nombre.$error"
                     ng-if="ejemploForm.nombre.$touched && ejemploForm.nombre.$invalid">
                    <!-- Este mensaje toma precedencia por encima del mensaje genérico -->
                    <p ng-message="required">El campo nombre es requerido</p>
                    <!-- El resto de mensajes genéricos se cargan -->
                    <div ng-messages-include="mensajes-de-error"></div>
                </div>
            </div>

            <div class="form-group">
                <label for="correoElectronico">Correo electrónico</label>
                <input type="email" ng-model="correoElectronico" name="correoElectronico" id="correoElectronico"
                       class="form-control" required/>
                <div class="alert alert-danger" ng-messages="ejemploForm.correoElectronico.$error"
                     ng-if="ejemploForm.correoElectronico.$touched && ejemploForm.correoElectronico.$invalid">
                    <div ng-messages-include="mensajes-de-error"></div>
                </div>
            </div>

            <div class="form-group">
                <button type="submit" class="btn btn-primary btn-block" ng-disabled="ejemploForm.$invalid">Enviar
                </button>
            </div>
        </form>
    </div>
    <!--
        Los mensajes de error, están definidos en un archivo externo.
        Los "traemos" a la aplicación usando la directiva `ng-include`.
        Nótese el uso de las comillas simples, no es un error ya que
        `ng-include` espera una expresión y un string.
        Fuente: http://stackoverflow.com/questions/12521905/angularjs-ng-include-does-not-include-view-unless-passed-in-scope
    -->
    <div ng-include="'partials/mensajes-de-error.html'"></div>
</div>
<script src="js/angular.min.js"></script>
<script src="js/angular-messages.min.js"></script>
<script src="js/app.js"></script>
</body>
</html>
